---
import Layout from "../layouts/Layout.astro";
import { HydrationDirectiveProps } from "astro/dist/runtime/server/hydration";
import { marked } from "marked";
import { formatDate } from "../../libs/dateFormat";
import { CollectionEntry } from "astro:content";
export interface Props {
  resource: CollectionEntry<"resources">;
}

const { resource } = Astro.props;
const { Content } = await resource.render();
---

<div class="card flex h-full w-full flex-col">
  <div
    class="bg-var flex flex-row items-center border-b-2 py-5 px-5 md:px-6 gap-5"
  >
 
    <div class="logo">
      <img
        src={resource.data.img}
        alt="Icon for resource"
        class="h-16"
      />
    </div>
    <div class="title flex items-center">
      <div>
        <h3 class="mb-1 text-xl font-bold">
          {resource.data.title}
        </h3>
        <h3 class="text-md">
          Last updated <span class="italic"
            >{formatDate(resource.data.postDate)}</span
          >
        </h3>
      </div>
    </div>
  </div>
  <div
    class="bg-white flex flex-grow flex-col items-start gap-3 py-5 px-4 md:px-8"
  >
    <div class="flex flex-col gap-3 text-left text-lg rich-text"><Content /></div>
  </div>

  <style
    define:vars={{
      colour1: resource.data.colors[0],
      colour2: resource.data.colors[1],
    }}
  >
    .bg-var {
      background: linear-gradient(90deg, var(--colour1), var(--colour2));
    }
  </style>
</div>
